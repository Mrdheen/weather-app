{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Mrdheen/desktop/weather-app/src/app/page.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\nimport { XCircle, Sun, Moon } from \"lucide-react\";\nimport { motion } from \"framer-motion\"; // Framer Motion for animations\n\nexport default function Home() {\n  const [city, setCity] = useState(\"\");\n  const [weather, setWeather] = useState<WeatherData | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [darkMode, setDarkMode] = useState<boolean | null>(null);\n\n  interface WeatherData {\n    name: string;\n    weather: { description: string }[];\n    main: { temp: number; humidity: number };\n  }\n\n  // Load theme AFTER mounting\n  useEffect(() => {\n    const storedTheme = localStorage.getItem(\"theme\");\n    if (storedTheme === \"dark\") {\n      setDarkMode(true);\n    } else {\n      setDarkMode(false);\n    }\n  }, []);\n\n  // Save theme preference\n  useEffect(() => {\n    if (darkMode !== null) {\n      localStorage.setItem(\"theme\", darkMode ? \"dark\" : \"light\");\n    }\n  }, [darkMode]);\n\n  const fetchWeather = async () => {\n    if (!city) return;\n    setLoading(true);\n    setError(\"\");\n    setWeather(null);\n\n    try {\n      const res = await fetch(\n        `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${process.env.NEXT_PUBLIC_WEATHER_API_KEY}&units=metric`\n      );\n      const data = await res.json();\n      if (data.cod !== 200) throw new Error(data.message);\n      setWeather(data);\n    } catch (error) {\n      setError(error instanceof Error ? error.message : \"An unknown error occurred\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ‚úÖ Handle Enter Key Press\n  const handleKeyPress = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === \"Enter\") {\n      fetchWeather(); // Trigger fetch when Enter is pressed\n    }\n  };\n\n  if (darkMode === null) {\n    return <div className=\"min-h-screen flex items-center justify-center text-gray-600\">Loading...</div>;\n  }\n\n  return (\n    <motion.div\n      className={`${darkMode ? \"bg-gray-900 text-white\" : \"bg-gradient-to-br from-blue-100 to-blue-300\"} \n      flex flex-col items-center justify-center min-h-screen p-6 transition-all duration-500`}\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      transition={{ duration: 0.5 }}\n    >\n      {/* Dark Mode Toggle */}\n      <motion.div className=\"absolute top-4 right-4\">\n        <motion.button\n          onClick={() => setDarkMode(!darkMode)}\n          className=\"flex items-center bg-gray-200 dark:bg-gray-800 px-4 py-2 rounded-full shadow-md transition\"\n          whileTap={{ scale: 0.9 }}\n        >\n          {darkMode ? (\n            <motion.span initial={{ rotate: -90 }} animate={{ rotate: 0 }} transition={{ duration: 0.3 }}>\n              <Sun className=\"w-6 h-6 text-cyan-400\" />\n            </motion.span>\n          ) : (\n            <motion.span initial={{ rotate: 90 }} animate={{ rotate: 0 }} transition={{ duration: 0.3 }}>\n              <Moon className=\"w-6 h-6 text-gray-800\" />\n            </motion.span>\n          )}\n          <span className=\"ml-2 text-lg\">{darkMode ? \"Light Mode\" : \"Dark Mode\"}</span>\n        </motion.button>\n      </motion.div>\n\n      <motion.div\n        className={`w-full max-w-md ${darkMode ? \"bg-gray-800 text-white\" : \"bg-white\"} \n        shadow-xl rounded-lg p-6 transition-all duration-500`}\n        initial={{ scale: 0.9, opacity: 0 }}\n        animate={{ scale: 1, opacity: 1 }}\n      >\n        <h1 className={`text-2xl font-bold text-center mb-4 ${darkMode ? \"text-cyan-400\" : \"text-blue-600\"} transition-all`}>\n          üå§Ô∏è Weather App\n        </h1>\n\n        {/* Input Field with Clear Button */}\n        <div className=\"relative w-full\">\n          <motion.input\n            type=\"text\"\n            placeholder=\"Enter city name\"\n            className={`w-full border p-3 rounded-full text-lg pr-10 focus:ring-1 transition-all ${\n              darkMode ? \"bg-gray-700 text-white focus:ring-cyan-400\" : \"focus:ring-blue-400\"\n            }`}\n            value={city}\n            onChange={(e) => setCity(e.target.value)}\n            onKeyDown={handleKeyPress} // ‚úÖ Detect Enter Key Press\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ duration: 0.4, delay: 0.2 }}\n          />\n          {city && (\n            <motion.button\n              className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700\"\n              onClick={() => setCity(\"\")}\n              whileHover={{ scale: 1.2 }}\n              whileTap={{ scale: 0.8 }}\n            >\n              <XCircle size={20} />\n            </motion.button>\n          )}\n        </div>\n\n        {/* Fetch Weather Button */}\n        <motion.button\n          onClick={fetchWeather}\n          className={`w-full text-lg font-semibold py-3 rounded-full mt-4 transition disabled:opacity-50 ${\n            darkMode ? \"bg-cyan-500 hover:bg-cyan-600\" : \"bg-blue-500 hover:bg-blue-600\"\n          } text-white flex justify-center`}\n          disabled={loading}\n          whileHover={{ scale: 1.05 }}\n          whileTap={{ scale: 0.95 }}\n        >\n          {loading ? (\n            <motion.div\n              className=\"border-4 border-white border-t-transparent w-6 h-6 rounded-full animate-spin\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ duration: 0.3 }}\n            />\n          ) : (\n            \"Get Weather\"\n          )}\n        </motion.button>\n\n        {/* Error Message */}\n        {error && <motion.p className=\"text-red-600 text-center mt-4\">{error}</motion.p>}\n\n        {/* Weather Data Display */}\n        {weather && (\n          <motion.div\n            className={`mt-6 p-4 rounded-lg text-center shadow-md transition-all ${\n              darkMode ? \"bg-gray-700 text-white\" : \"bg-gray-100\"\n            }`}\n            initial={{ opacity: 0, scale: 0.9 }}\n            animate={{ opacity: 1, scale: 1 }}\n            transition={{ duration: 0.4 }}\n          >\n            <h2 className=\"text-xl font-semibold\">{weather.name}</h2>\n            <p className=\"capitalize\">{weather.weather[0].description}</p>\n            <p className=\"text-lg font-bold\">üå°Ô∏è {weather.main.temp}¬∞C</p>\n            <p className=\"text-sm\">Humidity: {weather.main.humidity}%</p>\n          </motion.div>\n        )}\n      </motion.div>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 344, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}